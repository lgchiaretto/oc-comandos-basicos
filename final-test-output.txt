╔════════════════════════════════════════════════════════════════╗
║     Script de Validação de Comandos OpenShift                 ║
║     Testando comandos da documentação (modular)                ║
╚════════════════════════════════════════════════════════════════╝

[0;34m[INFO][0m Iniciando validação em Sun Oct 19 03:17:29 PM -03 2025
[0;34m[INFO][0m Cluster: https://api.cluster-st22j.dynamic.redhatworkshops.io:6443
[0;34m[INFO][0m Usuário: admin
[0;34m[INFO][0m Log: test-commands-20251019-151729.log

[0;34m[INFO][0m Verificando pré-requisitos...
[0;32m[✓][0m Pré-requisitos verificados


[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 01 - AUTENTICAÇÃO E CONFIGURAÇÃO
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Verificar usuário atual (whoami)
[0;32m[✓][0m Verificar token de acesso
[0;32m[✓][0m Verificar contexto atual
[0;32m[✓][0m Verificar URL da console
[0;32m[✓][0m Verificar servidor conectado
[0;32m[✓][0m Verificar versão do oc
[0;32m[✓][0m Verificar informações do cluster
[0;32m[✓][0m Exibir configuração atual
[0;32m[✓][0m Listar todos os contextos
[0;32m[✓][0m Ver contexto atual
[0;32m[✓][0m Testar conexão com API
[0;32m[✓][0m Ver endpoints da API
[0;32m[✓][0m Ver versões da API

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 02 - PROJETOS
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Listar todos os projetos
[0;32m[✓][0m Listar projetos (formato detalhado)
[0;31m[✗][0m Ver projeto atual
[0;31m[✗][0m   Comando: oc project
[0;32m[✓][0m Criar novo projeto de teste
[0;32m[✓][0m Adicionar label ao projeto
[0;32m[✓][0m Descrever projeto
[0;32m[✓][0m Ver projeto em YAML
[0;32m[✓][0m Verificar quotas do projeto
[0;32m[✓][0m Ver limit ranges
[0;32m[✓][0m Status do projeto
[0;32m[✓][0m Filtrar projetos com label
[0;32m[✓][0m Verificar se pode criar projeto
[0;32m[✓][0m Ver rolebindings do projeto

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 03 - APLICAÇÕES
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Criar aplicação de teste (nginx)
[0;32m[✓][0m Aguardar deployment
[0;32m[✓][0m Listar todas as aplicações
[0;32m[✓][0m Listar deployments
[0;32m[✓][0m Listar services
[0;32m[✓][0m Expor service como route
[0;32m[✓][0m Listar routes
[0;32m[✓][0m Listar templates disponíveis

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 04 - PODS E CONTAINERS
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Listar todos os pods
[0;32m[✓][0m Listar pods com mais informações
[0;32m[✓][0m Listar pods em todos os namespaces
[0;32m[✓][0m Descrever primeiro pod
[0;32m[✓][0m Ver logs do pod
[0;32m[✓][0m Listar pods com labels
[0;32m[✓][0m Filtrar pods por label
[0;32m[✓][0m Ver eventos do namespace

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 05 - DEPLOYMENTS E SCALING
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Listar deployments
[0;32m[✓][0m Descrever deployment
[0;32m[✓][0m Ver deployment em YAML
[0;32m[✓][0m Scale para 2 réplicas
[0;32m[✓][0m Verificar scale
[0;32m[✓][0m Scale de volta para 1
[0;32m[✓][0m Ver ReplicaSets
[0;32m[✓][0m Status do deployment
[0;32m[✓][0m Histórico de rollout

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 06 - SERVICES E ROUTES
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Listar services
[0;32m[✓][0m Descrever service
[0;32m[✓][0m Ver service em YAML
[0;32m[✓][0m Listar routes
[0;32m[✓][0m Descrever route
[0;32m[✓][0m Ver URL da route
[0;32m[✓][0m Listar endpoints

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 07 - CONFIGMAPS E SECRETS
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Criar ConfigMap
[0;32m[✓][0m Listar ConfigMaps
[0;32m[✓][0m Descrever ConfigMap
[0;32m[✓][0m Ver ConfigMap em YAML
[0;32m[✓][0m Criar Secret
[0;32m[✓][0m Listar Secrets
[0;32m[✓][0m Descrever Secret
[0;32m[✓][0m Ver chaves do Secret

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 08 - STORAGE
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Listar PVCs com status
[0;32m[✓][0m PVCs Pending
[0;32m[✓][0m Listar StorageClasses

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 09 - BUILDS E IMAGES
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;31m[✗][0m Descrever StorageClass padrão
[0;31m[✗][0m   Comando: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Listar BuildConfigs
[0;32m[✓][0m Listar Builds
[0;32m[✓][0m Listar ImageStreams
[0;32m[✓][0m Listar ImageStreams do OpenShift

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 10 - REGISTRY E IMAGENS
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Verificar registry interno
[0;32m[✓][0m Listar ImageStreams do sistema
[0;32m[✓][0m Ver tags de uma ImageStream

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 11 - MONITORAMENTO E LOGS
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Ver logs do primeiro pod
[0;32m[✓][0m Ver eventos
[0;32m[✓][0m Ver top nodes
[0;32m[✓][0m Ver top pods

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 12 - MUST-GATHER
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Verificar comando must-gather (sem executar)

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 13 - TROUBLESHOOTING PODS
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Ver pods com problemas (todos os namespaces)
[0;32m[✓][0m Ver pods em CrashLoopBackOff
[0;32m[✓][0m Descrever primeiro pod do projeto

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 14 - TROUBLESHOOTING REDE
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Listar services
[0;32m[✓][0m Listar endpoints
[0;32m[✓][0m Listar routes
[0;32m[✓][0m Verificar DNS (pods dns)

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 15 - TROUBLESHOOTING STORAGE
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Listar PVCs com status
[0;32m[✓][0m PVCs Pending
[0;32m[✓][0m Listar StorageClasses

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 16 - SEGURANÇA E RBAC
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Listar roles
[0;32m[✓][0m Listar rolebindings
[0;32m[✓][0m Listar clusterroles
[0;32m[✓][0m Listar clusterrolebindings
[0;32m[✓][0m Verificar permissões (can-i)
[0;32m[✓][0m Listar o que posso fazer
[0;32m[✓][0m Listar SCCs
[0;32m[✓][0m Listar service accounts

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 17 - CLUSTER OPERATORS
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Listar Cluster Operators
[0;32m[✓][0m Descrever primeiro CO

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 18 - NODES E MACHINE
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Listar nodes
[0;32m[✓][0m Listar nodes com detalhes
[0;32m[✓][0m Descrever primeiro node
[0;32m[✓][0m Listar machines
[0;32m[✓][0m Listar machinesets

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 19 - CERTIFICADOS E CSR
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Listar CSRs
[0;32m[✓][0m CSRs Pending

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 20 - CLUSTER NETWORKING
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Ver configuração de rede do cluster
[0;32m[✓][0m Listar Network Policies
[0;32m[✓][0m Listar Ingress Controllers

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 21 - CLUSTER VERSION E UPDATES
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Ver versão do cluster
[0;32m[✓][0m Descrever ClusterVersion
[0;32m[✓][0m Ver histórico de updates

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 22 - ETCD BACKUP
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Verificar pods do etcd
[0;31m[✗][0m Ver membros do etcd
[0;31m[✗][0m   Comando: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Listar pods com uso de recursos customizado
[0;32m[✓][0m Extrair imagens dos pods

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 23 - COMANDOS CUSTOMIZADOS (awk/jq)
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Listar pods com uso de recursos customizado
[0;32m[✓][0m Contar pods por status
[0;32m[✓][0m Extrair imagens dos pods

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 24 - FIELD SELECTORS
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Pods Running
[0;32m[✓][0m Pods não Succeeded

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 25 - OUTPUT E FORMATAÇÃO
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Output em JSON
[0;32m[✓][0m Output em YAML
[0;32m[✓][0m Output com JSONPath
[0;32m[✓][0m Custom columns

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 26 - TEMPLATES E MANIFESTS
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Listar templates
[0;32m[✓][0m Exportar deployment como YAML

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 27 - BACKUP E DISASTER RECOVERY
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Exportar recursos do projeto

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 28 - PATCH E EDIT
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Verificar annotation

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 29 - JOBS E CRONJOBS
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Listar Jobs
[0;32m[✓][0m Listar CronJobs
[0;32m[✓][0m Criar Job de teste
[0;32m[✓][0m Verificar Job criado
[0;32m[✓][0m Ver logs do Job

[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;34m[INFO][0m 30 - OPERATORS E OPERANDOS
[0;34m[INFO][0m ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[0;32m[✓][0m Verificar OLM
[0;32m[✓][0m Listar Catalog Sources
[0;32m[✓][0m Listar PackageManifests
[0;32m[✓][0m Listar Subscriptions
[0;32m[✓][0m Listar CSVs
[0;32m[✓][0m Listar InstallPlans
[0;32m[✓][0m Listar OperatorGroups
[0;32m[✓][0m Listar CRDs

╔════════════════════════════════════════════════════════════════╗
║                    RELATÓRIO DE VALIDAÇÃO                      ║
╚════════════════════════════════════════════════════════════════╝

[0;34m[INFO][0m Finalizado em Sun Oct 19 03:21:00 PM -03 2025

Total de testes: 145
[0;32mPassou: 142[0m
[0;31mFalhou: 3[0m
[1;33mPulado: 0[0m

Taxa de sucesso: 97.93%

[0;34m[INFO][0m Log completo salvo em: test-commands-20251019-151729.log

[0;34m[INFO][0m Executando limpeza...
project.project.openshift.io "test-validation-1760897849" deleted
[0;32m[✓][0m Limpeza concluída
